apply plugin: 'com.github.ethankhall.semantic-versioning'
apply plugin: 'com.github.ben-manes.versions'

group = 'com.github.ben-manes'
project.version.with {
  major = 1 // incompatible API changes
  minor = 0 // backwards-compatible additions
  patch = 0 // backwards-compatible bug fixes
  releaseBuild = true
}

buildscript {
  apply from: "${rootDir}/gradle/dependencies.gradle"

  repositories {
    jcenter()
  }

  dependencies {
    classpath gradle_plugins.bundle
    classpath gradle_plugins.coveralls
    classpath gradle_plugins.jmh
    classpath gradle_plugins.semantic_versioning
    classpath gradle_plugins.stats
    classpath gradle_plugins.versions
  }
}

subprojects {
  apply plugin: 'org.dm.bundle'
  apply plugin: 'java'

  sourceCompatibility = JavaVersion.VERSION_1_8
  compileJava.options.incremental = true
  
  repositories {
    jcenter()
  }

  bundle {
    instruction 'Export-Package', 'com.github.benmanes.caffeine.*'
  }
}
